import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useState, useEffect } from 'react';
import { useAuth } from '../contexts/AuthContext';
import { Users, TrendingUp, FolderOpen, Mail } from 'lucide-react';
import { getDashboardStats } from '../services/api';
const Dashboard = () => {
    const { user, logout } = useAuth();
    const [stats, setStats] = useState({
        matches: 0,
        applications: 0,
        projects: 0,
        requests: 0
    });
    // Fetch dashboard stats
    useEffect(() => {
        const fetchStats = async () => {
            try {
                if (user?.id) {
                    const response = await getDashboardStats(user.id);
                    if (response.data.status === 'success') {
                        setStats(response.data.data);
                    }
                }
            }
            catch (error) {
                console.error('Error fetching dashboard stats:', error);
            }
        };
        fetchStats();
    }, [user?.id]);
    if (!user) {
        return (_jsx("div", { className: "min-h-screen w-full flex items-center justify-center p-4 bg-gradient-to-br from-slate-50 to-blue-50", children: _jsxs("div", { className: "text-center bg-white rounded-2xl p-8 shadow-xl", children: [_jsx("h2", { className: "text-2xl font-bold text-gray-800 mb-4", children: "Please login to access dashboard" }), _jsx("a", { href: "/", className: "text-blue-600 hover:text-blue-500 underline font-medium", children: "Go to Login" })] }) }));
    }
    // Fixed background - same for all user types to prevent flickering
    const dashboardGradient = 'from-slate-50 via-blue-50 to-cyan-50';
    return (_jsx("div", { className: `min-h-screen bg-gradient-to-br ${dashboardGradient} py-8 px-4`, children: _jsxs("div", { className: "max-w-7xl mx-auto", children: [_jsx("div", { className: "mb-8", children: _jsxs("div", { className: "flex items-center justify-between flex-wrap gap-4", children: [_jsxs("div", { children: [_jsxs("h1", { className: "text-4xl font-bold text-gray-800 mb-2", children: ["Welcome back, ", user.full_name, "! \uD83D\uDC4B"] }), _jsxs("p", { className: "text-lg text-gray-600 capitalize flex items-center gap-2", children: [_jsx("span", { className: "text-2xl", children: user.user_type === 'student' ? 'üéì' : user.user_type === 'faculty' ? 'üë®‚Äçüè´' : 'üíº' }), user.user_type, " Dashboard"] })] }), _jsx("button", { onClick: logout, className: "px-6 py-2.5 bg-white hover:bg-gray-50 text-gray-700 rounded-lg transition-colors shadow-md font-medium", children: "Logout" })] }) }), _jsxs("div", { className: "grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8", children: [_jsxs("div", { className: "bg-white rounded-xl p-6 shadow-md hover:shadow-lg transition-shadow", children: [_jsxs("div", { className: "flex items-center justify-between mb-2", children: [_jsx("span", { className: "text-gray-600 text-sm font-medium", children: "Matches" }), _jsx(Users, { className: "w-5 h-5 text-blue-500" })] }), _jsx("p", { className: "text-3xl font-bold text-gray-800", children: stats.matches }), _jsx("p", { className: "text-xs text-gray-500 mt-1", children: "Available matches" })] }), _jsxs("div", { className: "bg-white rounded-xl p-6 shadow-md hover:shadow-lg transition-shadow", children: [_jsxs("div", { className: "flex items-center justify-between mb-2", children: [_jsx("span", { className: "text-gray-600 text-sm font-medium", children: "Applications" }), _jsx(TrendingUp, { className: "w-5 h-5 text-green-500" })] }), _jsx("p", { className: "text-3xl font-bold text-gray-800", children: stats.applications }), _jsx("p", { className: "text-xs text-gray-500 mt-1", children: "Total applications" })] }), _jsxs("div", { className: "bg-white rounded-xl p-6 shadow-md hover:shadow-lg transition-shadow", children: [_jsxs("div", { className: "flex items-center justify-between mb-2", children: [_jsx("span", { className: "text-gray-600 text-sm font-medium", children: "Projects" }), _jsx(FolderOpen, { className: "w-5 h-5 text-cyan-500" })] }), _jsx("p", { className: "text-3xl font-bold text-gray-800", children: stats.projects }), _jsx("p", { className: "text-xs text-gray-500 mt-1", children: "Active projects" })] }), _jsxs("div", { className: "bg-white rounded-xl p-6 shadow-md hover:shadow-lg transition-shadow", children: [_jsxs("div", { className: "flex items-center justify-between mb-2", children: [_jsx("span", { className: "text-gray-600 text-sm font-medium", children: "Requests" }), _jsx(Mail, { className: "w-5 h-5 text-orange-500" })] }), _jsx("p", { className: "text-3xl font-bold text-gray-800", children: stats.requests }), _jsx("p", { className: "text-xs text-gray-500 mt-1", children: "Pending requests" })] })] }), _jsxs("div", { className: "bg-white/90 backdrop-blur-sm rounded-2xl p-6 mb-6 shadow-lg", children: [_jsxs("h2", { className: "text-xl font-bold text-gray-800 mb-4 flex items-center gap-2", children: [_jsx("span", { className: "text-2xl", children: "\uD83D\uDD0D" }), "Discover & Connect"] }), _jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [_jsx("a", { href: "/explore", className: "bg-gradient-to-br from-blue-50 to-cyan-50 rounded-xl p-5 hover:shadow-md transition-all duration-200 border border-blue-100", children: _jsxs("div", { className: "flex items-center gap-3", children: [_jsx("div", { className: "text-3xl", children: "\uD83D\uDD0E" }), _jsxs("div", { children: [_jsx("h3", { className: "font-semibold text-gray-800", children: "Explore Matches" }), _jsx("p", { className: "text-sm text-gray-600", children: "Find mentors and opportunities" })] })] }) }), _jsx("a", { href: "/mentorship-requests", className: "bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-5 hover:shadow-md transition-all duration-200 border border-purple-100", children: _jsxs("div", { className: "flex items-center gap-3", children: [_jsx("div", { className: "text-3xl", children: "\uD83D\uDCAC" }), _jsxs("div", { children: [_jsx("h3", { className: "font-semibold text-gray-800", children: "Mentorship Requests" }), _jsx("p", { className: "text-sm text-gray-600", children: "Manage mentorship connections" })] })] }) })] })] }), _jsxs("div", { className: "bg-white/90 backdrop-blur-sm rounded-2xl p-6 mb-6 shadow-lg", children: [_jsxs("h2", { className: "text-xl font-bold text-gray-800 mb-4 flex items-center gap-2", children: [_jsx("span", { className: "text-2xl", children: "\uD83D\uDCDA" }), "Projects"] }), _jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [_jsx("a", { href: "/create-project", className: "bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-5 hover:shadow-md transition-all duration-200 border border-green-100", children: _jsxs("div", { className: "flex items-center gap-3", children: [_jsx("div", { className: "text-3xl", children: "\u2795" }), _jsxs("div", { children: [_jsx("h3", { className: "font-semibold text-gray-800", children: "Create Project" }), _jsx("p", { className: "text-sm text-gray-600", children: "Post a new project" })] })] }) }), _jsx("a", { href: "/browse-projects", className: "bg-gradient-to-br from-indigo-50 to-blue-50 rounded-xl p-5 hover:shadow-md transition-all duration-200 border border-indigo-100", children: _jsxs("div", { className: "flex items-center gap-3", children: [_jsx("div", { className: "text-3xl", children: "\uD83D\uDD0D" }), _jsxs("div", { children: [_jsx("h3", { className: "font-semibold text-gray-800", children: "Browse Projects" }), _jsx("p", { className: "text-sm text-gray-600", children: "Explore all projects" })] })] }) })] })] }), _jsxs("div", { className: "bg-white/90 backdrop-blur-sm rounded-2xl p-6 mb-6 shadow-lg", children: [_jsxs("h2", { className: "text-xl font-bold text-gray-800 mb-4 flex items-center gap-2", children: [_jsx("span", { className: "text-2xl", children: "\uD83D\uDCCB" }), "Applications"] }), _jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [_jsx("a", { href: "/my-applications", className: "bg-gradient-to-br from-amber-50 to-orange-50 rounded-xl p-5 hover:shadow-md transition-all duration-200 border border-amber-100", children: _jsxs("div", { className: "flex items-center gap-3", children: [_jsx("div", { className: "text-3xl", children: "\uD83D\uDCCB" }), _jsxs("div", { children: [_jsx("h3", { className: "font-semibold text-gray-800", children: "My Applications" }), _jsx("p", { className: "text-sm text-gray-600", children: "Track your applications" })] })] }) }), _jsx("a", { href: "/received-applications", className: "bg-gradient-to-br from-rose-50 to-pink-50 rounded-xl p-5 hover:shadow-md transition-all duration-200 border border-rose-100", children: _jsxs("div", { className: "flex items-center gap-3", children: [_jsx("div", { className: "text-3xl", children: "\uD83D\uDCE5" }), _jsxs("div", { children: [_jsx("h3", { className: "font-semibold text-gray-800", children: "Received Applications" }), _jsx("p", { className: "text-sm text-gray-600", children: "Manage incoming applications" })] })] }) })] })] }), _jsxs("div", { className: "bg-white/90 backdrop-blur-sm rounded-2xl p-6 mb-6 shadow-lg", children: [_jsxs("h2", { className: "text-xl font-bold text-gray-800 mb-4 flex items-center gap-2", children: [_jsx("span", { className: "text-2xl", children: "\uD83D\uDCC1" }), "My Work"] }), _jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [_jsx("a", { href: "/active-projects", className: "bg-gradient-to-br from-teal-50 to-cyan-50 rounded-xl p-5 hover:shadow-md transition-all duration-200 border border-teal-100", children: _jsxs("div", { className: "flex items-center gap-3", children: [_jsx("div", { className: "text-3xl", children: "\uD83D\uDE80" }), _jsxs("div", { children: [_jsx("h3", { className: "font-semibold text-gray-800", children: "Active Projects" }), _jsx("p", { className: "text-sm text-gray-600", children: "View ongoing projects" })] })] }) }), _jsx("a", { href: "/my-projects", className: "bg-gradient-to-br from-violet-50 to-purple-50 rounded-xl p-5 hover:shadow-md transition-all duration-200 border border-violet-100", children: _jsxs("div", { className: "flex items-center gap-3", children: [_jsx("div", { className: "text-3xl", children: "\uD83D\uDCC1" }), _jsxs("div", { children: [_jsx("h3", { className: "font-semibold text-gray-800", children: "My Projects" }), _jsx("p", { className: "text-sm text-gray-600", children: "Manage your projects" })] })] }) })] })] }), _jsxs("div", { className: "bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg", children: [_jsxs("h2", { className: "text-xl font-bold text-gray-800 mb-4 flex items-center gap-2", children: [_jsx("span", { className: "text-2xl", children: "\u2699\uFE0F" }), "Settings"] }), _jsx("a", { href: "/profile-setup", className: "bg-gradient-to-br from-gray-50 to-slate-50 rounded-xl p-5 hover:shadow-md transition-all duration-200 border border-gray-200 block", children: _jsxs("div", { className: "flex items-center gap-3", children: [_jsx("div", { className: "text-3xl", children: "\uD83D\uDCDD" }), _jsxs("div", { children: [_jsx("h3", { className: "font-semibold text-gray-800", children: "Profile Setup" }), _jsx("p", { className: "text-sm text-gray-600", children: "Update your profile information" })] })] }) })] })] }) }));
};
export default Dashboard;
